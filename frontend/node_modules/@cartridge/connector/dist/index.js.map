{"version":3,"sources":["../src/controller.ts"],"sourcesContent":["import ControllerProvider, { ControllerOptions } from \"@cartridge/controller\";\nimport { Connector, InjectedConnector } from \"@starknet-react/core\";\n\nexport default class ControllerConnector extends InjectedConnector {\n  public controller: ControllerProvider;\n\n  constructor(options: ControllerOptions) {\n    const controller = new ControllerProvider(options);\n\n    super({\n      options: {\n        id: controller.id,\n        name: controller.name,\n      },\n    });\n\n    this.controller = controller;\n  }\n\n  async disconnect() {\n    this.controller.disconnect();\n  }\n\n  username() {\n    return this.controller.username();\n  }\n\n  isReady(): boolean {\n    return this.controller.isReady();\n  }\n\n  async delegateAccount() {\n    return await this.controller.delegateAccount();\n  }\n\n  static fromConnectors(connectors: Connector[]): ControllerConnector {\n    const connector = connectors.find((c) => c.id === \"controller\");\n    if (!connector) {\n      throw new Error(\"Controller connector not found\");\n    }\n    return connector as ControllerConnector;\n  }\n}\n"],"mappings":";AAAA,OAAO,wBAA+C;AACtD,SAAoB,yBAAyB;AAE7C,IAAqB,sBAArB,cAAiD,kBAAkB;AAAA,EAC1D;AAAA,EAEP,YAAY,SAA4B;AACtC,UAAM,aAAa,IAAI,mBAAmB,OAAO;AAEjD,UAAM;AAAA,MACJ,SAAS;AAAA,QACP,IAAI,WAAW;AAAA,QACf,MAAM,WAAW;AAAA,MACnB;AAAA,IACF,CAAC;AAED,SAAK,aAAa;AAAA,EACpB;AAAA,EAEA,MAAM,aAAa;AACjB,SAAK,WAAW,WAAW;AAAA,EAC7B;AAAA,EAEA,WAAW;AACT,WAAO,KAAK,WAAW,SAAS;AAAA,EAClC;AAAA,EAEA,UAAmB;AACjB,WAAO,KAAK,WAAW,QAAQ;AAAA,EACjC;AAAA,EAEA,MAAM,kBAAkB;AACtB,WAAO,MAAM,KAAK,WAAW,gBAAgB;AAAA,EAC/C;AAAA,EAEA,OAAO,eAAe,YAA8C;AAClE,UAAM,YAAY,WAAW,KAAK,CAAC,MAAM,EAAE,OAAO,YAAY;AAC9D,QAAI,CAAC,WAAW;AACd,YAAM,IAAI,MAAM,gCAAgC;AAAA,IAClD;AACA,WAAO;AAAA,EACT;AACF;","names":[]}