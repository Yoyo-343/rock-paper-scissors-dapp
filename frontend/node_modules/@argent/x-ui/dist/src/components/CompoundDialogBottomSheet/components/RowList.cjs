"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("react/jsx-runtime"),n=require("@chakra-ui/react"),q=require("lodash-es"),f=require("react"),F=require("react-virtuoso");require("../../Typography.cjs");const S=require("../../WebSearchInput/index.cjs"),h=require("../../typography.generated.cjs");function R(t){return t&&q.isObject(t[0])&&"title"in t[0]&&"rows"in t[0]}function T({rows:t,RowComponent:m,NoResultsComponent:u,loading:o,allowSearch:b=!0,searchRows:x}){const d=R(t),s={},l=f.useRef([...d?t.flatMap(({title:r,rows:a},i)=>{let j=0;return i!==0&&(j=Object.keys(s).reduce((y,p)=>Number(p)+Number(y),t[i-1].rows.length)),s[j]=r,a}):t]),[c,g]=f.useState(l.current);return e.jsxs(n.Flex,{flexDirection:"column",gap:"6",children:[b&&x&&e.jsx(S.WebSearchInput,{onChange:r=>{g(x(r.target.value,l.current))},onReset:()=>g(l.current)}),e.jsxs(n.Tabs,{variant:"unstyled",position:"relative",isFitted:!0,h:{base:"full",sm:"92"},overflowY:"auto",children:[!o&&c.length===0&&e.jsxs(n.Flex,{h:"full",w:"full",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"3",py:"16",children:[u&&e.jsx(u,{}),!u&&e.jsx(h.H5,{children:"Nothing to select"})]}),o&&e.jsxs(n.Flex,{h:"full",w:"full",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"3",py:"16",children:[e.jsx(n.Spinner,{}),e.jsx(h.H5,{children:"Loading..."})]}),!o&&c.length>0&&e.jsx(n.TabPanels,{children:e.jsx(n.TabPanel,{children:e.jsx(F.Virtuoso,{style:{height:368},data:c,itemContent:(r,a)=>{var i;return e.jsxs(e.Fragment,{children:[d&&c.length===((i=l.current)==null?void 0:i.length)&&s[r]&&e.jsx(n.Flex,{mt:r===0?"0":"4",mb:"2",children:e.jsx(h.P4,{fontWeight:"600",color:"text-secondary",mb:"2",children:s[r]})}),e.jsx(m,{...a})]})}})})})]})]})}exports.RowList=T;
