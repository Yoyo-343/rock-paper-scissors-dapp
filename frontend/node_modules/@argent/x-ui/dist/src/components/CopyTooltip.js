import { jsx as r, jsxs as a } from "react/jsx-runtime";
import { Tooltip as x, Box as p } from "@chakra-ui/react";
import { useState as C, useRef as u, useEffect as T } from "react";
import b from "react-copy-to-clipboard";
import { useOnClickOutside as y } from "../hooks/useOnClickOutside.js";
const k = ({ copyValue: c, prompt: m = "Click to copy", message: n = "Copied", autoDismiss: i = !0, children: s, onClick: t, ...d }) => {
  const [e, o] = C(!1), f = u(), l = u(null);
  return y(l, () => o(!1)), T(() => (i && e && (f.current = setTimeout(() => o(!1), 2500)), () => {
    clearTimeout(f.current);
  }), [i, e]), /* @__PURE__ */ r(x, { label: e ? n : m, isOpen: e || void 0, ...d, children: /* @__PURE__ */ a(p, { ref: l, children: [
    !t && /* @__PURE__ */ r(b, { text: c, onCopy: () => o(!0), children: s }),
    t && /* @__PURE__ */ r(p, { onClick: t, children: s })
  ] }) });
};
export {
  k as CopyTooltip
};
