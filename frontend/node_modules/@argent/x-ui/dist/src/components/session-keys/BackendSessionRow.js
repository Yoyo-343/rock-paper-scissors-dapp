import { jsxs as o, jsx as e } from "react/jsx-runtime";
import { Flex as n, Button as l, Collapse as g, Text as S, UnorderedList as y, ListItem as k, Box as v } from "@chakra-ui/react";
import { useState as C } from "react";
import { DappIcon as D } from "../DappIcon.js";
import j from "../icons/ChevronDownSecondaryIcon.js";
import B from "../icons/ChevronUpSecondaryIcon.js";
import "../Typography.js";
import { BackendSessionExpirationDate as T } from "./BackendSessionExpirationDate.js";
import { BackendSessionTokenInfo as z } from "./BackendSessionTokenInfo.js";
import { useDappId as H } from "../../providers/DappProvider.js";
import { H5 as b, P4 as s } from "../typography.generated.js";
const K = ({ session: a, networkId: p, onRevoke: d, initialExpanded: m = !1, ...h }) => {
  const { metadata: r, expirationTime: f, txFees: c } = a, i = H(r.projectID), [t, x] = C(m), I = c.length > 0;
  return /* @__PURE__ */ o(n, { px: 4, rounded: "xl", w: "full", bgColor: "surface-elevated", direction: "column", ...h, children: [
    /* @__PURE__ */ e(n, { justifyContent: "space-between", alignItems: "center", py: 3.5, minHeight: 18, children: /* @__PURE__ */ o(n, { gap: 3, alignItems: "center", w: "full", children: [
      /* @__PURE__ */ e(D, { size: 8, dappId: r.projectID }),
      /* @__PURE__ */ o(n, { gap: 0.5, overflow: "hidden", direction: "column", children: [
        /* @__PURE__ */ e(b, { textOverflow: "ellipsis", overflow: "hidden", whiteSpace: "nowrap", children: (i == null ? void 0 : i.name) || r.projectID || "Unknown dapp" }),
        /* @__PURE__ */ e(T, { as: s, color: "text-secondary", expirationTime: f })
      ] }),
      /* @__PURE__ */ o(n, { gap: 1, alignItems: "center", ml: "auto", children: [
        /* @__PURE__ */ e(l, { colorScheme: "primary", size: "small", onClick: d, minHeight: 6.5, children: "Revoke" }),
        /* @__PURE__ */ e(l, { size: "auto", minHeight: "initial", colorScheme: "secondary", onClick: () => x(!t), fontSize: "2xs", w: 6.5, h: 6.5, children: t ? /* @__PURE__ */ e(B, {}) : /* @__PURE__ */ e(j, {}) })
      ] })
    ] }) }),
    I && /* @__PURE__ */ e(g, { in: t, children: /* @__PURE__ */ o(s, { as: v, pb: 4, children: [
      /* @__PURE__ */ e(S, { children: "Spent so far:" }),
      /* @__PURE__ */ e(y, { styleType: '"â€¢  "', children: c.map((u, w) => /* @__PURE__ */ e(k, { children: /* @__PURE__ */ e(z, { txFee: u, networkId: p }) }, w)) })
    ] }) })
  ] });
};
export {
  K as BackendSessionRow
};
