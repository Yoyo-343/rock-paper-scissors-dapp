"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("react/jsx-runtime"),n=require("@chakra-ui/react"),I=require("react"),S=require("../DappIcon.cjs"),g=require("../icons/ChevronDownSecondaryIcon.cjs"),f=require("../icons/ChevronUpSecondaryIcon.cjs");require("../Typography.cjs");const w=require("./BackendSessionExpirationDate.cjs"),y=require("./BackendSessionTokenInfo.cjs"),k=require("../../providers/DappProvider.cjs"),t=require("../typography.generated.cjs"),q=({session:c,networkId:a,onRevoke:l,initialExpanded:d=!1,...x})=>{const{metadata:s,expirationTime:p,txFees:i}=c,o=k.useDappId(s.projectID),[r,u]=I.useState(d),h=i.length>0;return e.jsxs(n.Flex,{px:4,rounded:"xl",w:"full",bgColor:"surface-elevated",direction:"column",...x,children:[e.jsx(n.Flex,{justifyContent:"space-between",alignItems:"center",py:3.5,minHeight:18,children:e.jsxs(n.Flex,{gap:3,alignItems:"center",w:"full",children:[e.jsx(S.DappIcon,{size:8,dappId:s.projectID}),e.jsxs(n.Flex,{gap:.5,overflow:"hidden",direction:"column",children:[e.jsx(t.H5,{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",children:(o==null?void 0:o.name)||s.projectID||"Unknown dapp"}),e.jsx(w.BackendSessionExpirationDate,{as:t.P4,color:"text-secondary",expirationTime:p})]}),e.jsxs(n.Flex,{gap:1,alignItems:"center",ml:"auto",children:[e.jsx(n.Button,{colorScheme:"primary",size:"small",onClick:l,minHeight:6.5,children:"Revoke"}),e.jsx(n.Button,{size:"auto",minHeight:"initial",colorScheme:"secondary",onClick:()=>u(!r),fontSize:"2xs",w:6.5,h:6.5,children:r?e.jsx(f,{}):e.jsx(g,{})})]})]})}),h&&e.jsx(n.Collapse,{in:r,children:e.jsxs(t.P4,{as:n.Box,pb:4,children:[e.jsx(n.Text,{children:"Spent so far:"}),e.jsx(n.UnorderedList,{styleType:'"â€¢  "',children:i.map((j,m)=>e.jsx(n.ListItem,{children:e.jsx(y.BackendSessionTokenInfo,{txFee:j,networkId:a})},m))})]})})]})};exports.BackendSessionRow=q;
