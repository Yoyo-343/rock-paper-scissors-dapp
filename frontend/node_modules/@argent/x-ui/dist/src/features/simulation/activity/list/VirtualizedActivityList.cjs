"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const a=require("react/jsx-runtime"),t=require("react"),h=require("react-virtuoso"),j=require("./ActivityListSubtitlePending.cjs"),z=require("./types.cjs"),G=require("./utils/getActivityItemData.cjs"),f=require("./utils/getGroupedItemData.cjs"),E=require("./VirtualizedActivityListItem.cjs"),S=require("./utils/getPartitionedActivities.cjs"),T=require("./utils/getGroupedActivitiesByDate.cjs"),B=(u,i,s)=>a.jsx(E.VirtualizedActivityListItem,{data:i,...s}),L=t.forwardRef(({activities:u,networkId:i,onActivityClick:s,header:d,footer:l,RowWrapper:m,SubTitleWrapper:g,hideComponent:v,rowProps:y,components:A,...M},p)=>{const V=t.useMemo(()=>({...A,Header:()=>d,Footer:()=>l}),[A,d,l]),[e,I]=t.useMemo(()=>S.getPartitionedActivities(u),[u]),x=t.useMemo(()=>T.getGroupedActivitiesByDate(I),[I]),D=t.useMemo(()=>e.length?a.jsx(j.ActivityListSubtitlePending,{count:e.length}):null,[e]),b=t.useMemo(()=>{const r=[];let n=0,o=0;if(e.length){r.push({type:z.ITEM_TYPE.SUBTITLE_PENDING,index:o++});const q=G.getActivityItemData({activities:e,itemIndex:n});n=q.itemIndex,r.push(...q.itemData)}const c=f.getGroupedItemData({groupedActivities:x,itemIndex:n,subtitleIndex:o});return r.push(...c.itemData),n=c.itemIndex,o=c.subtitleIndex,r},[x,e]),P=t.useMemo(()=>({RowWrapper:m,SubTitleWrapper:g,networkId:i,onActivityClick:s,rowProps:y,subtitlePending:D,hideComponent:v}),[m,g,i,s,y,D,v]);return a.jsx(h.Virtuoso,{ref:p,data:b,context:P,itemContent:B,components:V,...M})});L.displayName="VirtualizedActivityList";exports.VirtualizedActivityList=L;
