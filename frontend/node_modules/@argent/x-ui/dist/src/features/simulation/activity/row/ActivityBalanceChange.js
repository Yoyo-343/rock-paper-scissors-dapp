import { jsxs as d, Fragment as g, jsx as r } from "react/jsx-runtime";
import { getCurrencySymbol as B, prettifyCurrencyValue as O } from "@argent/x-shared";
import { isRejectOnChainActivity as V, isUpgradeActivity as D, isTokenActivitySummary as E } from "@argent/x-shared/simulation";
import { isEmpty as F, groupBy as H } from "lodash-es";
import { memo as U } from "react";
import { Hideable as a } from "../Hideable.js";
import { TokenActivitySummaryText as q } from "../icon/TokenActivitySummaryText.js";
import { ActivityRowSubtitle as S } from "./ActivityRowSubtitle.js";
import { ActivityRowTitle as u } from "./ActivityRowTitle.js";
import { getAttributes as z, receiveAttributes as x } from "./getAttributes.js";
import { getSendOrReceiveAmount as l } from "./getSendOrReceiveAmount.js";
import { SendOrReceiveActivityText as s } from "./SendOrReceiveActivityText.js";
const C = ({ activity: y, networkId: m, hideComponent: c }) => {
  var h, v;
  const { status: f, transferSummary: o = [] } = y;
  if (F(o) || V(y) || D(y))
    return null;
  const n = f === "rejected" || f === "failure" || f === "cancelled" ? "line-through" : void 0;
  if (o.length === 1 && E(o[0])) {
    const t = o[0], { prefix: A, color: b } = z(t), R = (h = t.asset.fiatAmount) == null ? void 0 : h.currencyAmount, T = B(((v = t.asset.fiatAmount) == null ? void 0 : v.currency) || ""), p = O(R, T), j = l(o);
    return /* @__PURE__ */ d(g, { children: [
      /* @__PURE__ */ r(u, { "data-value": j, color: b, textDecoration: n, children: /* @__PURE__ */ d(a, { hideComponent: c, children: [
        A,
        /* @__PURE__ */ r(q, { summary: t, networkId: m })
      ] }) }),
      p !== void 0 && /* @__PURE__ */ r(S, { textDecoration: n, children: /* @__PURE__ */ r(a, { hideComponent: c, children: p }) })
    ] });
  }
  const { send: e, receive: i } = H(o, (t) => t.sent ? "send" : "receive");
  if (i != null && i.length && (e != null && e.length)) {
    const t = l(i), A = l(e);
    return /* @__PURE__ */ d(g, { children: [
      /* @__PURE__ */ r(u, { "data-value": t, color: x.color, textDecoration: n, children: /* @__PURE__ */ r(a, { hideComponent: c, children: /* @__PURE__ */ r(s, { summaryArray: i, networkId: m }) }) }),
      /* @__PURE__ */ r(S, { "data-value": A, textDecoration: n, children: /* @__PURE__ */ r(a, { hideComponent: c, children: /* @__PURE__ */ r(s, { summaryArray: e, networkId: m }) }) })
    ] });
  }
  if (i != null && i.length) {
    const t = l(o);
    return /* @__PURE__ */ r(u, { "data-value": t, color: x.color, textDecoration: n, children: /* @__PURE__ */ r(a, { hideComponent: c, children: /* @__PURE__ */ r(s, { summaryArray: i, networkId: m }) }) });
  }
  if (e != null && e.length) {
    const t = l(o);
    return /* @__PURE__ */ r(u, { "data-value": t, textDecoration: n, children: /* @__PURE__ */ r(a, { hideComponent: c, children: /* @__PURE__ */ r(s, { summaryArray: e, networkId: m }) }) });
  }
}, _ = U(C);
export {
  _ as ActivityBalanceChange
};
