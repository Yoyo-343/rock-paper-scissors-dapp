import { jsx as t, jsxs as i } from "react/jsx-runtime";
import { ensureArray as y } from "@argent/x-shared";
import { NativeActivityTypeNative as D, getAnyActivityTitle as N, isRejectOnChainActivity as v, isUpgradeActivity as z } from "@argent/x-shared/simulation";
import { Flex as m } from "@chakra-ui/react";
import { useMemo as s } from "react";
import { TransactionReviewAction as M } from "../../TransactionReviewAction.js";
import { ActivityIcon as O } from "../icon/ActivityIcon.js";
import { ActivityAdditionalDetails as U } from "./ActivityAdditionalDetails.js";
import { SendAndReceiveActivity as W } from "../summary/SendAndReceiveActivity.js";
import { CellStack as C } from "../../../../components/CellStack.js";
import { H4 as F, P3 as h } from "../../../../components/typography.generated.js";
import { formatDateTime as H } from "../../../../utilities/date/index.js";
const X = ({ activity: e, networkId: r, hideComponent: o, children: g, ...x }) => {
  var a, p, f;
  const n = e.type === D, b = N(e), c = n && ((a = e.meta) == null ? void 0 : a.subtitle), j = s(() => v(e), [e]), R = s(() => z(e), [e]), l = n && ((p = e.meta) == null ? void 0 : p.icon) || j || R, S = n && ((f = e.meta) == null ? void 0 : f.investment), T = s(() => {
    var d;
    const u = (d = e.actions) == null ? void 0 : d.map((A) => /* @__PURE__ */ t(M, { action: A, networkId: r, hideComponent: o }, `review-${A.name}`));
    return y(u).length ? /* @__PURE__ */ t(m, { direction: "column", gap: 1, children: u }) : null;
  }, [e.actions, S, r]);
  return /* @__PURE__ */ i(C, { ...x, children: [
    /* @__PURE__ */ i(m, { alignItems: "center", w: "full", gap: 3, pb: 3, pl: l ? 1 : 3, pr: 3, children: [
      l && /* @__PURE__ */ t(O, { size: 12, fontSize: "xl", activity: e, networkId: r, preferMetaIcon: !0 }),
      /* @__PURE__ */ i(m, { direction: "column", gap: 0.5, children: [
        /* @__PURE__ */ t(F, { children: b }),
        c && /* @__PURE__ */ t(h, { fontWeight: "semibold", color: "text-secondary", children: c }),
        /* @__PURE__ */ t(h, { fontWeight: "semibold", color: "text-secondary", children: H(e.submitted) })
      ] })
    ] }),
    g,
    /* @__PURE__ */ t(W, { summaryArray: e.transferSummary, networkId: r, hideComponent: o }),
    /* @__PURE__ */ t(U, { activity: e, networkId: r, hideComponent: o }),
    T
  ] });
};
export {
  X as ActivityDetails
};
